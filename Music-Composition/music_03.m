% 既然播放时间可以变化，那么改变采样频率即可

F_major = 349.23;
so = F_major * 2 ^ (7/12);
ra = F_major * 2 ^ (9/12);
re = F_major * 2 ^ (2/12);
do = F_major;
down_ra = F_major * 2 ^ (-3/12);
Fs = 8000;
x = 0 : 1/Fs : 4.05; % 4小节，每小节8拍，每拍0.5s

y1 = sin(2*pi*so*x) .* ((exp(9.1629*x)-1).*(x>=0&x<0.1) + 1.5*exp(-4.05465*(x-0.1)).*(x>=0.1&x<0.2) + 1.*(x>=0.2&x<0.4) + (1.5*exp(-7.3241*(x-0.4))-0.5).*(x>=0.4&x<0.55));
y2 = sin(2*pi*so*(x-0.5)) .* ((exp(18.3258*(x-0.5))-1).*(x>=0.5&x<0.55) + 1.5*exp(-8.1093*(x-0.55)).*(x>=0.55&x<0.6) + 1.*(x>=0.6&x<0.7) + (1.5*exp(-14.6482*(x-0.7))-0.5).*(x>=0.7&x<0.775));
y3 = sin(2*pi*ra*(x-0.75)) .* ((exp(18.3258*(x-0.75))-1).*(x>=0.75&x<0.8) + 1.5*exp(-8.1093*(x-0.8)).*(x>=0.8&x<0.85) + 1.*(x>=0.85&x<0.95) + (1.5*exp(-14.6482*(x-0.95))-0.5).*(x>=0.95&x<1.025)); 
y4 = sin(2*pi*re*(x-1)) .* ((exp(9.1629*(x-1))-1).*(x>=1&x<1.1) + 1.5*exp(-4.05465*(x-1.1)).*(x>=1.1&x<1.2) + 1.*(x>=1.2&x<1.9) + (1.5*exp(-7.3241*(x-1.9))-0.5).*(x>=1.9&x<2.05)); 
y5 = sin(2*pi*do*(x-2)) .* ((exp(9.1629*(x-2))-1).*(x>=2&x<2.1) + 1.5*exp(-4.05465*(x-2.1)).*(x>=2.1&x<2.2) + 1.*(x>=2.2&x<2.4) + (1.5*exp(-7.3241*(x-2.4))-0.5).*(x>=2.4&x<2.55));
y6 = sin(2*pi*do*(x-2.5)) .* ((exp(18.3258*(x-2.5))-1).*(x>=2.5&x<2.55) + 1.5*exp(-8.1093*(x-2.55)).*(x>=2.55&x<2.6) + 1.*(x>=2.6&x<2.7) + (1.5*exp(-14.6482*(x-2.7))-0.5).*(x>=2.7&x<2.775));
y7 = sin(2*pi*down_ra*(x-2.75)) .* ((exp(18.3258*(x-2.75))-1).*(x>=2.75&x<2.8) + 1.5*exp(-8.1093*(x-2.8)).*(x>=2.8&x<2.85) + 1.*(x>=2.85&x<2.95) + (1.5*exp(-14.6482*(x-2.95))-0.5).*(x>=2.95&x<3.025));
y8 = sin(2*pi*re*(x-3)) .* ((exp(9.1629*(x-3))-1).*(x>=3&x<3.1) + 1.5*exp(-4.05465*(x-3.1)).*(x>=3.1&x<3.2) + 1.*(x>=3.2&x<3.9) + (1.5*exp(-7.3241*(x-3.9))-0.5).*(x>=3.9&x<4.05)); 

y = y1 + y2 + y3 + y4 + y5 + y6 + y7 + y8;

sound(y, Fs * 2); % 升高八度
pause(3);
sound(y, Fs / 2); % 降低八度
pause(11);
% 使用resample函数，升高半个音阶，即采样率升高 2^(1/12)

Fs_ = fix(Fs * 2^(1/12));
y_ = resample(y, Fs, Fs_);
sound(y_, Fs);
